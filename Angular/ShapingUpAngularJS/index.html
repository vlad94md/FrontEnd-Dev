<!DOCTYPE html>
<html ng-app="store">

<head>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/united/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="app.js"></script>
</head>

<style>
    li:hover {
        cursor: pointer;
    }
</style>

<body ng-controller="StoreController as store" class="center-block" style="width: 50%">

    <center>
        <h1>- An Angular.js Store -</h1>
    </center>

    <!-- Products Container -->
    <div class="list-group">

        <!-- Product Container -->
        <div class="list-group-item" ng-repeat="product in store.products">
            <div ng-hide="product.soldOut">
                <product-title></product-title>

                <!-- Image Gallery  -->
                <div class='gallery' ng-controller="GalleryController as gallery" ng-show="product.images.length">
                    <div class="img-wrap">
                        <img class="img img-circle img-thumbnail center-block" ng-src="{{product.images[gallery.current]}}" />
                    </div>
                    <hr/>
                    <ul class="img-thumbnails clearfix">
                        <li class="small-image pull-left thumbnail" ng-repeat="image in product.images">
                            <img ng-click="gallery.setCurrent($index)" ng-src="{{image}}" style="width:50px;height:50px" />
                        </li>
                    </ul>
                </div>

                <!-- Tabs Section -->
                <section class="tab" ng-controller="TabController as tab">
                    <ul class="nav nav-pills">
                        <li ng-class="{active: tab.isSet(1)}">
                            <a href ng-click="tab.setTab(1)">Description</a>
                        </li>
                        <li ng-class="{active: tab.isSet(2)}">
                            <a href ng-click="tab.setTab(2)">Reviews</a>
                        </li>
                    </ul>
                    
                    <product-description ng-show="tab.isSet(1)"></product-description>

                    <product-reviews ng-show="tab.isSet(2)"></product-reviews>
                    
                </section>

                <button class="btn" ng-show="product.canPurchase"> Add to Cart </button>
                <p class="text-danger" ng-show="!product.canPurchase"> Cant purchase! </button>
            </div>
        </div>
    </div>
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> -->
</body>